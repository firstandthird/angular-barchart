/*!
 * angular-barchart - An angular directive for bar chart creation
 * v0.2.1
 * https://github.com/firstandthird/angular-barchart
 * copyright  2015
 * MIT License
*/angular.module("ftBarChart",[]).directive("barChart",function(a,b){return{restrict:"A",scope:{ngModel:"=",objectKey:"@?barchartValueKey",shouldAnimate:"&?barchartAnimate",animateDuration:"&?barchartAnimateDuration"},link:function(a,c,d){var e=!1,f=!!a.shouldAnimate(),g="500ms";if(f&&angular.isDefined(d.barchartAnimateDuration)&&(g=a.animateDuration()),angular.isObject(a.ngModel[0])){if(!angular.isDefined(d.barchartValueKey))throw new Error("You must define a barchart-value-key to extract the value from the dict!");e=!0}var h=function(a,b,c){var d;return d=angular.isNumber(c)?100*(c-b)/(a-b)||0:0},i=function(a){var d,e=Math.max.apply(null,a),i=Math.min.apply(null,a),j=0,n=0,o=a.length;c.html("");for(var p=[];o>j;j++)p.push(h(e,i,a[j]));var q,r,s,t=100/p.length,u=angular.element('<svg width="'+l+'" height="'+k+'"/>');for(d=p.length;d>n;n++){var v=b[0].createElementNS("http://www.w3.org/2000/svg","rect");if(q=100*(n/p.length),r=100-p[n],s=p[n]+1,v.setAttribute("title",a[n]),v.setAttribute("x",q+"%"),v.setAttribute("y",r+"%"),v.setAttribute("width",t+"%"),v.setAttribute("height",s+"%"),v.setAttribute("fill",m),f){var w=b[0].createElementNS("http://www.w3.org/2000/svg","animate");w.setAttribute("attributeName","y"),w.setAttribute("from","100%"),w.setAttribute("to",r+"%"),w.setAttribute("dur",g),v.appendChild(w)}u.append(v)}c.append(u)},j=function(b){var c=b;return e&&(c=b.map(function(b){return b[a.objectKey]})),c},k=d.chartHeight?d.chartHeight:90,l=d.chartWidth?d.chartWidth:400,m=d.chartColor?d.chartColor:"#000";a.$watch("ngModel",function(a){i(j(a))},e)}}});